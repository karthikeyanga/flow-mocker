

CREATE TABLE `tl_api` (
                          `id` int(11) NOT NULL AUTO_INCREMENT,
                          `route` varchar(1000) NOT NULL,
                          `method` varchar(20) NOT NULL,
                          `status` int(5) DEFAULT '200',
                          `response_headers` varchar(2000) NOT NULL,
                          `response_body` varchar(50000) DEFAULT '',
                          `enabled` tinyint(1) DEFAULT '1',
                          `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
                          `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                          PRIMARY KEY (`id`),
                          UNIQUE KEY `method` (`method`,`route`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=latin1;


CREATE TABLE `tl_flow` (
                           `id` int(11) NOT NULL AUTO_INCREMENT,
                           `title` varchar(500) DEFAULT NULL,
                           `identifier` varchar(5000) DEFAULT '',
                           `object_list` varchar(5000) DEFAULT '',
                           `config` varchar(50000) DEFAULT '',
                           `enabled` tinyint(1) DEFAULT '1',
                           `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
                           `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                           PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

CREATE TABLE `mocker_object` (
                             `id` int(11) NOT NULL AUTO_INCREMENT,
                             `object` varchar(50000) DEFAULT '',
                             `enabled` tinyint(1) DEFAULT '1',
                             `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
                             `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                             PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;




/*        data */

INSERT INTO `mocker_api` (`id`,`route`,`method`,`status`,`response_headers`,`response_body`,`enabled`,`created_at`,`updated_at`) VALUES
(1,'/test/json/:mobile','Any',200,'{\"Content-Type\":\"application/json\"}','{\"mobile\":\"{{.PathParams.mobile}}\",\"name\":\"{{index .Query.name 0}}\"}',1,'2020-06-15 11:10:23','2020-06-15 11:14:45'),
(3,'/test/html/:mobile','GET',200,'{}','<html><body>This is a sample html page. <br>You entered {{.PathParams.mobile}}</body></html>',1,'2020-06-15 11:12:50','2020-06-15 11:15:32'),
(5,'/KISSHT/accounts/:accountId/loan','GET',200,'{\"Content-Type\":\"application/json\"}','{ \"responseStatus\": \"SUCCESS\", \"data\": { \"account\": { \"accountId\": \"{{.PathParams.accountId}}\", \"accountStatus\": \"ACTIVE\", \"reason\": \"ss\" }, \"loan\": { \"accountId\": \"{{.PathParams.accountId}}\", \"completedSteps\": [\"DOC_UPLOAD\",\"AR\",\"KYC\"], \"eligibilityAmountX100\": 70000000, \"availableAmountX100\": 20000000, \"loanRefNum\": \"11HJKHU-D78h-HJ8JHJK-YJ78HJJ\", \"loanAccountNumber\": \"22D78h-HJ8JHJK-YJ78HJJ-BJH876H\", \"nextDueAmountX100\":500000, \"overDueAmountX100\":400000, \"score\": 850, \"tier\": \"SILVER\", \"eligibility\": { \"status\": \"SUCCESS\", \"pendingUserData\": [\n] }, \"docUpload\": { \"status\": \"SUCCESS\", \"categories\": [ { \"name\": \"SELFIE\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POI\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POA\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POINC\", \"status\": \"APPROVED\", \"reason\": \"string\" } ], \"additionalProp1\": {} }, \"kyc\": { \"status\": \"SUCCESS\", \"additionalProp1\": {} }, \"ar\": { \"status\": \"SUCCESS\", \"bankName\": \"HDFC BANK FOR LEDGER\", \"additionalProp1\": \"string\", \"additionalProp2\": \"string\", \"additionalProp3\": \"string\" } } } }',1,'2020-06-15 12:10:12','2020-06-15 12:10:12'),
(7,'/KISSHT/accounts/:accountId/link','POST',200,'{\"Content-Type\":\"application/json\"}','{ \"responseStatus\": \"SUCCESS\", \"data\": { \"account\": { \"accountId\": \"{{.PathParams.accountId}}\", \"accountStatus\": \"ACTIVE\", \"reason\": \"ss\" }, \"loan\": { \"accountId\": \"{{.PathParams.accountId}}\", \"completedSteps\": [\"DOC_UPLOAD\",\"AR\",\"KYC\"], \"eligibilityAmountX100\": 70000000, \"availableAmountX100\": 20000000, \"loanRefNum\": \"11HJKHU-D78h-HJ8JHJK-YJ78HJJ\", \"loanAccountNumber\": \"22D78h-HJ8JHJK-YJ78HJJ-BJH876H\", \"nextDueAmountX100\":500000, \"overDueAmountX100\":400000, \"score\": 850, \"tier\": \"SILVER\", \"eligibility\": { \"status\": \"SUCCESS\", \"pendingUserData\": [\n] }, \"docUpload\": { \"status\": \"SUCCESS\", \"categories\": [ { \"name\": \"SELFIE\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POI\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POA\", \"status\": \"APPROVED\", \"reason\": \"string\" }, { \"name\": \"POINC\", \"status\": \"APPROVED\", \"reason\": \"string\" } ], \"additionalProp1\": {} }, \"kyc\": { \"status\": \"SUCCESS\", \"additionalProp1\": {} }, \"ar\": { \"status\": \"SUCCESS\", \"bankName\": \"HDFC BANK FOR LEDGER\", \"additionalProp1\": \"string\", \"additionalProp2\": \"string\", \"additionalProp3\": \"string\" } } } }',1,'2020-06-15 16:36:06','2020-06-15 16:36:06'),
(9,'/KISSHT/accounts/:accountId/account','GET',200,'{\"Content-Type\":\"application/json\"}','{ \"responseStatus\": \"SUCCESS\", \"data\": { \"account\": { \"accountId\": \"{{.PathParams.accountId}}\", \"accountStatus\": \"ACTIVE\", \"reason\": \"ss\" } } }',1,'2020-06-15 16:42:27','2020-06-15 17:40:45'),
(11,'/KISSHT/accounts/:accountId/loanUser','GET',200,'{\"Content-Type\":\"application/json\"}','{ \"responseStatus\": \"SUCCESS\", \"error\": { \"code\": \"EW24\", \"description\": \"Some Error Description\", \"errors\": [ { \"code\": \"string\", \"description\": \"string\" } ] }, \"data\": { \"account\": { \"accountId\": \"A1234567890\", \"accountStatus\": \"NOT_LINKED\", \"reason\": \"REJECTED_FRAUD\" }, \"loan\": { \"accountId\": \"A1234567890\", \"completedSteps\": [ \"DOC_UPLOAD\" ], \"eligibilityAmountX100\": 10000, \"availableAmountX100\": 10000, \"nextDueAmountX100\": 10000, \"overDueAmountX100\": 10000, \"loanRefNum\": \"HJKHU-D78h-HJ8JHJK-YJ78HJJ\", \"loanAccountNumber\": \"D78h-HJ8JHJK-YJ78HJJ-BJH876H\", \"score\": 750, \"tier\": \"GOLD\", \"eligibility\": { \"status\": \"INIT\", \"reason\": \"string\", \"pendingUserData\": [ \"MIN\" ] }, \"docUpload\": { \"status\": \"INIT\", \"reason\": \"string\", \"categories\": [ { \"name\": \"POI\", \"status\": \"NOT_UPLOADED\", \"reason\": \"string\", \"verifyType\": \"OCR\" } ] }, \"kyc\": { \"status\": \"INIT\", \"reason\": \"USER_NOT_RESPONDING\" }, \"ar\": { \"status\": \"INIT\", \"reason\": \"string\", \"bankName\": \"HDFC\", \"property1\": \"string\", \"property2\": \"string\" } }, \"user\": { \"accountId\": \"A1234567890\", \"pan\": \"AXEPD8765S\", \"mobile\": \"919876543210\", \"email\": \"user@example.com\", \"dob\": \"2020-06-16\", \"pinCode\": \"string\", \"firstName\": \"Nikunj\", \"lastName\": \"Trivedi\", \"gender\": \"MALE\", \"residenceType\": \"OWNED\", \"addressLine1\": \"string\", \"addressLine2\": \"string\", \"employmentType\": \"SALARIED\", \"monthlyIncome\": \"string\", \"monthlyExpenses\": \"string\", \"livingWith\": \"NO_ONE\", \"employerName\": \"string\", \"employedSince\": \"2009-12-29\", \"currentAddress\": { \"pinCode\": \"string\", \"addressLine1\": \"string\", \"addressLine2\": \"string\" }, \"permanentAddress\": { \"pinCode\": \"string\", \"addressLine1\": \"string\", \"addressLine2\": \"string\" }, \"fatherFirstName\": \"Nikunj\", \"fatherLastName\": \"Trivedi\", \"motherFirstName\": \"Nikunj\", \"motherLastName\": \"Trivedi\", \"maritalStatus\": \"MARRIED\" } } }',1,'2020-06-16 15:17:24','2020-06-16 15:17:24'),
(13,'/KISSHT/accounts/:accountId/eligibility/:userDataSet','POST',200,'{\"Content-Type\":\"application/json\"}',' { \"responseStatus\": \"SUCCESS\", \"data\": { \"account\": { \"accountId\": \"A1234567890\", \"accountStatus\": \"NOT_LINKED\", \"reason\": \"REJECTED_FRAUD\" }, \"loan\": { \"accountId\": \"A1234567890\", \"completedSteps\": [ \"DOC_UPLOAD\" ], \"eligibilityAmountX100\": 10000, \"availableAmountX100\": 10000, \"nextDueAmountX100\": 10000, \"overDueAmountX100\": 10000, \"loanRefNum\": \"HJKHU-D78h-HJ8JHJK-YJ78HJJ\", \"loanAccountNumber\": \"D78h-HJ8JHJK-YJ78HJJ-BJH876H\", \"score\": 750, \"tier\": \"GOLD\", \"eligibility\": { \"status\": \"INIT\", \"reason\": \"string\", \"pendingUserData\": [ \"MIN\" ] }, \"docUpload\": { \"status\": \"INIT\", \"reason\": \"string\", \"categories\": [ { \"name\": \"POI\", \"status\": \"NOT_UPLOADED\", \"reason\": \"string\", \"verifyType\": \"OCR\" } ] }, \"kyc\": { \"status\": \"INIT\", \"reason\": \"USER_NOT_RESPONDING\" }, \"ar\": { \"status\": \"INIT\", \"reason\": \"string\", \"bankName\": \"HDFC\", \"property1\": \"string\", \"property2\": \"string\" } } } } ',1,'2020-06-16 15:19:46','2020-06-16 15:19:46'),
(15,'/KISSHT/banks','GET',200,'{\"Content-Type\":\"application/json\"}','{\"request_id\":\"9152816433842194\",\"responseStatus\":\"SUCCESS\",\"data\":{\"banks\":[{\"bankName\":\"ANDHRA BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/andhrabank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"AXIS BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/axisbank.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"BANK OF BARODA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/bankofbaroda.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"BANK OF MAHARASHTRA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/bankofmaharasthra.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"CANARA BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/canarabank.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"CENTRAL BANK OF INDIA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/centralbankofindia.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"CITIBANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\"]},{\"bankName\":\"CITY UNION BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"DEUTSCHE BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"DHANLAXMI BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"HDFC BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/hdfcbank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"ICICI BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/icicibank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"IDBI BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/idbi.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"INDIAN OVERSEAS BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/overseasbank.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"INDUSIND BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/indusindbank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"KARNATAKA BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/karnatakabank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"KOTAK MAHINDRA BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/kotak.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"ORIENTAL BANK OF COMMERCE\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/orientalbankofcommerce.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"PUNJAB NATIONAL BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/punjabnationalbank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"THE SOUTH INDIAN BANK LIMITED\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"STANDARD CHARTERED BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"STATE BANK OF INDIA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/sbi.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"TAMILNAD MERCANTILE BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"THE COSMOS CO-OP BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"THE FEDERAL BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/federalbank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"UNION BANK OF INDIA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/unionbank.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"UNITED BANK OF INDIA\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/unitedbankofindia.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"YES BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/yesbank.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"IDFC BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/idfc.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"DCB Bank\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/dcbbank.png\",\"availableModes\":[\"DC\"]},{\"bankName\":\"UJJIVAN BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"RBL Bank\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"EQUITAS SMALL FINANCE BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"HSBC BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"NB\"]},{\"bankName\":\"AU SMALL FINANCE BANK\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\"]},{\"bankName\":\"DEVELOPMENT BANK OF SINGAPORE\",\"logo\":\"https:\\/\\/kissht-bank-logos.s3.ap-south-1.amazonaws.com\\/default.png\",\"availableModes\":[\"DC\",\"NB\"]},{\"bankName\":\"PAYTM PAYMENTS BANK LTD\",\"logo\":null,\"availableModes\":[\"DC\",\"NB\"]}]}}',1,'2020-06-16 15:31:47','2020-06-16 15:31:47');


INSERT INTO `mocker_object` (`id`,`object`,`enabled`,`created_at`,`updated_at`) VALUES
(1,'{\"account\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"accountStatus\":\"NOT_LINKED\",\"reason\":\"\"},\"loan\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"ar\":{\"bankName\":\"\",\"reason\":\"\",\"status\":\"INIT\"},\"availableAmountX100\":0,\"completedSteps\":[],\"docUpload\":{\"categories\":[],\"reason\":\"\",\"status\":\"INIT\"},\"eligibility\":{\"pendingUserData\":[],\"reason\":\"\",\"status\":\"INIT\"},\"eligibilityAmountX100\":0,\"kyc\":{\"reason\":\"\",\"status\":\"INIT\"},\"loanAccountNumber\":\"D78h-HJ8JHJK-YJ78KKJ-BJH876H\",\"loanRefNum\":\"HJKHU-D78h-HJJ8HJK-YJ78HJJ\",\"nextDueAmountX100\":0,\"overDueAmountX100\":0,\"score\":0,\"tier\":\"\"},\"user\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"addressLine1\":\"\",\"addressLine2\":\"\",\"currentAddress\":{\"addressLine1\":\"\",\"addressLine2\":\"\",\"pinCode\":\"\"},\"dob\":\"\",\"email\":\"\",\"employedSince\":\"\",\"employerName\":\"\",\"employmentType\":\"\",\"fatherFirstName\":\"\",\"fatherLastName\":\"\",\"firstName\":\"\",\"gender\":\"\",\"lastName\":\"\",\"livingWith\":\"\",\"maritalStatus\":\"\",\"mobile\":\"\",\"monthlyExpenses\":\"\",\"monthlyIncome\":\"\",\"motherFirstName\":\"\",\"motherLastName\":\"\",\"pan\":\"\",\"permanentAddress\":{\"addressLine1\":\"\",\"addressLine2\":\"\",\"pinCode\":\"\"},\"pinCode\":\"\",\"residenceType\":\"\"}}',0,'2020-06-14 11:20:01','2020-06-17 20:33:04'),
(3,'{\"account\":{\"accountId\":\"KISSHT_3456789\",\"accountStatus\":\"NOT_LINKED\",\"reason\":\"\"},\"loan\":{\"accountId\":\"KISSHT_3456789\",\"ar\":{\"status\":\"INIT\"},\"availableAmountX100\":20000000,\"completedSteps\":[],\"docUpload\":{\"categories\":[],\"status\":\"INIT\"},\"eligibility\":{\"pendingUserData\":[\"BASIC\"],\"status\":\"PENDING\"},\"eligibilityAmountX100\":70000000,\"kyc\":{\"status\":\"INIT\"},\"loanAccountNumber\":\"22D78h-HJ8JHJK-YJ78HJJ-BJH876H\",\"loanRefNum\":\"11HJKHU-D78h-HJ8JHJK-YJ78HJJ\",\"nextDueAmountX100\":500000,\"overDueAmountX100\":400000,\"score\":850,\"tier\":\"SILVER\"}}',1,'2020-06-15 12:19:39','2020-06-17 20:30:58'),
(5,'{\"account\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"accountStatus\":\"NOT_LINKED\",\"reason\":\"\"},\"loan\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"ar\":{\"bankName\":\"\",\"reason\":\"\",\"status\":\"INIT\"},\"availableAmountX100\":0,\"completedSteps\":[],\"docUpload\":{\"categories\":[],\"reason\":\"\",\"status\":\"INIT\"},\"eligibility\":{\"pendingUserData\":[\"BASIC\"],\"reason\":\"\",\"status\":\"PENDING\"},\"eligibilityAmountX100\":0,\"kyc\":{\"reason\":\"\",\"status\":\"INIT\"},\"loanAccountNumber\":\"D78h-HJ8JHJK-YJ78KKJ-BJH876H\",\"loanRefNum\":\"HJKHU-D78h-HJJ8HJK-YJ78HJJ\",\"nextDueAmountX100\":0,\"overDueAmountX100\":0,\"score\":0,\"tier\":\"\"},\"user\":{\"accountId\":\"KISSHT_04e7c0cb-857e-4747-ab5a-6k0c36b6e964\",\"addressLine1\":\"\",\"addressLine2\":\"\",\"currentAddress\":{\"addressLine1\":\"\",\"addressLine2\":\"\",\"pinCode\":\"\"},\"dob\":\"\",\"email\":\"\",\"employedSince\":\"\",\"employerName\":\"\",\"employmentType\":\"\",\"fatherFirstName\":\"\",\"fatherLastName\":\"\",\"firstName\":\"\",\"gender\":\"\",\"lastName\":\"\",\"livingWith\":\"\",\"maritalStatus\":\"\",\"mobile\":\"\",\"monthlyExpenses\":\"\",\"monthlyIncome\":\"\",\"motherFirstName\":\"\",\"motherLastName\":\"\",\"pan\":\"\",\"permanentAddress\":{\"addressLine1\":\"\",\"addressLine2\":\"\",\"pinCode\":\"\"},\"pinCode\":\"\",\"residenceType\":\"\"}}',1,'2020-06-17 16:46:51','2020-06-17 20:34:12'),
(7,'{\"accountId\":\"KISSHT_2345678987654\",\"accountStatus\":\"ACTIVE\"}',1,'2020-06-17 17:19:44','2020-06-17 17:19:44'),
(9,'{\"data\":{\"account\":{\"accountId\":\"\",\"accountStatus\":\"\",\"reason\":\"\"}},\"error\":{\"code\":\"INVALID_STAGE\",\"description\":\"\"},\"responseStatus\":\"ERROR\"}',1,'2020-06-17 18:07:57','2020-06-17 18:43:05');


INSERT INTO `mocker_flow` (`id`,`title`,`identifier`,`object_list`,`config`,`enabled`,`created_at`,`updated_at`) VALUES
(1,'Link Reject Flow','{{if eq .PathParams.accountId (Get (Object 3) \"account\" \"accountId\")}}true{{end}}',',3,','{\"GET /KISSHT/accounts/:accountId/account\":{\"status\":\"\",\"header\":\"\",\"response_body\":\"{\\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": {{ Json (Get (Object 3) \\\"account\\\")}}}\"},\"GET /KISSHT/accounts/:accountId/loan\":{\"status\":\"\",\"header\":\"\",\"response_body\":\"{\\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": {{ Json (Object 3)}}}\"},\"POST /KISSHT/accounts/:accountId/link\":{\"status\":\"\",\"header\":\"\",\"response_body\":\"{{Set (Object 3) \\\"account\\\" \\\"accountStatus\\\" \\\"REJECTED\\\"}} {{Set (Object 3) \\\"account\\\" \\\"reason\\\" \\\"Shubham is not happy\\\"}} {{SaveObject 3}} {\\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": {{ Json (Get (Object 3) \\\"account\\\")}}}\"}}',1,'2020-06-15 22:37:25','2020-06-17 19:35:47'),
(3,'Link Basic Flow','{{if eq .PathParams.accountId (Get (Object 5) \"account\" \"accountId\")}}true{{end}}',',5,9,','{\"GET /KISSHT/accounts/:accountId/account\":{\"status\":\"\",\"header\":\"\",\"response_body\":\" {{$obj := Object 5}} {{if eq \\\"NOT_LINKED\\\" (Get $obj \\\"account\\\" \\\"accountStatus\\\")}} {{$invalid_stage := Copy (Object 9)}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountId\\\" .PathParams.accountId}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"NOT_LINKED\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" \\\"INVALID_STAGE - Account not linked!\\\"}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" \\\"Account not linked!\\\"}} {{Json $invalid_stage}} {{else}} { \\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": { \\\"account\\\" : {{ Json (Get $obj \\\"account\\\")}} } } {{end}} \"},\"GET /KISSHT/accounts/:accountId/loan\":{\"status\":\"\",\"header\":\"\",\"response_body\":\" {{$obj := Object 5}} {{if eq \\\"NOT_LINKED\\\" (Get $obj \\\"account\\\" \\\"accountStatus\\\")}} {{$invalid_stage := Copy (Object 9)}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountId\\\" .PathParams.accountId}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"NOT_LINKED\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" \\\"INVALID_STAGE - Account not linked!\\\"}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" \\\"Account not linked!\\\"}} {{Json $invalid_stage}} {{else}} { \\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": { \\\"account\\\" : {{ Json (Get $obj \\\"account\\\")}}, \\\"loan\\\" : {{ Json (Get $obj \\\"loan\\\")}} } } {{end}} \"},\"GET /KISSHT/accounts/:accountId/loanUser\":{\"status\":\"\",\"header\":\"\",\"response_body\":\" {{$obj := Object 5}} {{if eq \\\"NOT_LINKED\\\" (Get $obj \\\"account\\\" \\\"accountStatus\\\")}} {{$invalid_stage := Copy (Object 9)}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountId\\\" .PathParams.accountId}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"NOT_LINKED\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" \\\"INVALID_STAGE - Account not linked!\\\"}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" \\\"Account not linked!\\\"}} {{Json $invalid_stage}} {{else}} { \\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": { \\\"account\\\" : {{ Json (Get $obj \\\"account\\\")}}, \\\"loan\\\" : {{ Json (Get $obj \\\"loan\\\")}}, \\\"user\\\" : {{ Json (Get $obj \\\"user\\\")}} } } {{end}} \"},\"POST /KISSHT/accounts/:accountId/eligibility/:userDataSet\":{\"status\":\"\",\"header\":\"\",\"response_body\":\" {{$obj := Object 5}} {{$invalid_stage := Copy (Object 9)}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountId\\\" .PathParams.accountId}}\\n\\n{{if eq \\\"NOT_LINKED\\\" (Get $obj \\\"account\\\" \\\"accountStatus\\\")}} {{if eq .PathParams.userDataSet \\\"BASIC\\\"}} {{Set $obj \\\"account\\\" \\\"accountStatus\\\" \\\"ELIGIBLE\\\"}} {{Set $obj \\\"loan\\\" \\\"eligibility\\\" \\\"pendingUserData\\\" (NewJsonArr)}} {{Set $obj \\\"loan\\\" \\\"eligibilityAmountX100\\\" 10000000}} {{Set $obj \\\"loan\\\" \\\"availableAmountX100\\\" 10000000}} {{Set $obj \\\"loan\\\" \\\"eligibility\\\" \\\"status\\\" \\\"SUCCESS\\\"}} {{Set $obj \\\"loan\\\" \\\"score\\\" \\\"820\\\"}} {{Set $obj \\\"loan\\\" \\\"tier\\\" \\\"GOLD\\\"}}\\n{ \\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": { \\\"account\\\" : {{ Json (Get $obj \\\"account\\\")}}, \\\"loan\\\" : {{ Json (Get $obj \\\"loan\\\")}} } } {{Set $obj \\\"user\\\" .JSON}} {{else}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"LINKED\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" (print \\\"INVALID_STAGE - Expecting user data for \\\" (Get $obj \\\"loan\\\" \\\"eligibility\\\" \\\"pendingUserData\\\" 1))}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" (print \\\"Expecting user data for \\\" (Get $obj \\\"loan\\\" \\\"eligibility\\\" \\\"pendingUserData\\\" 1))}} {{Json $invalid_stage}} {{end}} {{else}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"ELIGIBLE\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" \\\"INVALID_STAGE - Account already eligible!\\\"}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" \\\"Account already eligible!\\\"}} {{Json $invalid_stage}} {{end}} \"},\"POST /KISSHT/accounts/:accountId/link\":{\"status\":\"\",\"header\":\"\",\"response_body\":\" {{$obj := Object 5}}\\n{{if eq \\\"NOT_LINKED\\\" (Get $obj \\\"account\\\" \\\"accountStatus\\\")}} {{Set $obj \\\"account\\\" \\\"accountStatus\\\" \\\"LINKED\\\"}} {{Set $obj \\\"loan\\\" \\\"eligibility\\\" \\\"pendingUserData\\\" 1 \\\"BASIC\\\"}} {{Set $obj \\\"loan\\\" \\\"eligibility\\\" \\\"status\\\" \\\"PENDING\\\"}}\\n{ \\\"responseStatus\\\": \\\"SUCCESS\\\", \\\"data\\\": { \\\"account\\\" : {{ Json (Get $obj \\\"account\\\")}}, \\\"loan\\\" : {{ Json (Get $obj \\\"loan\\\")}} } } {{Set $obj \\\"account\\\" \\\"accountStatus\\\" \\\"NOT_LINKED\\\"}}\\n{{SaveObject 5}} {{else}} {{$invalid_stage := Copy (Object 9)}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountId\\\" .PathParams.accountId}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"accountStatus\\\" \\\"LINKED\\\"}} {{Set $invalid_stage \\\"data\\\" \\\"account\\\" \\\"reason\\\" \\\"INVALID_STAGE - Account already linked!\\\"}} {{Set $invalid_stage \\\"error\\\" \\\"description\\\" \\\"Account already linked!\\\"}} {{Json $invalid_stage}} {{end}} \"}}',1,'2020-06-17 19:31:57','2020-06-17 20:36:33');
